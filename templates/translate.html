<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Translator</title>
<style>
body { margin:0;font-family:Arial; background:#0b0c10; color:white; transition:0.3s; padding:30px;}
h2{text-align:center;color:#66fcf1;}
.container{max-width:600px;margin:auto;background:#1f2833;padding:20px;border-radius:10px;box-shadow:0 0 15px #45a29e;}
textarea{width:100%;height:120px;padding:10px;margin-bottom:10px;border-radius:8px;font-size:16px;background:#0b0c10;color:#66fcf1;border:1px solid #45a29e;}
select,button{width:100%;padding:12px;margin:10px 0;font-size:16px;border-radius:8px;}
button{background:#66fcf1;color:#0b0c10;border:none;cursor:pointer;}
button:hover{background:#45a29e;}
.theme-btn{margin-top:10px; cursor:pointer; background:#c5c6c7; color:#0b0c10;}
#error-msg{color:#ff6666; text-align:center; margin-bottom:10px;}
</style>
</head>
<body>

<h2>Instant Language Translator</h2>
<div class="container">
<div id="error-msg"></div>
<select id="from">
<option value="en">English</option>
<option value="yo">Yoruba</option>
<option value="ha">Hausa</option>
<option value="ig">Igbo</option>
<option value="fr">French</option>
<option value="de">German</option>
<option value="ar">Arabic</option>
</select>

<select id="to">
<option value="yo">Yoruba</option>
<option value="ha">Hausa</option>
<option value="ig">Igbo</option>
<option value="en">English</option>
<option value="fr">French</option>
<option value="de">German</option>
<option value="ar">Arabic</option>
</select>

<textarea id="input" placeholder="Enter text..."></textarea>
<button onclick="translateNow()">Translate</button>
<textarea id="output" placeholder="Translation appears here..."></textarea>
</div>

<button onclick="logout()">Logout</button>
<button class="theme-btn" onclick="toggleTheme()">Toggle Light/Dark</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
gsap.from(".container", {duration:1.5,opacity:0,y:50});

function translateNow(){
    let data={
        source: document.getElementById("from").value,
        target: document.getElementById("to").value,
        text: document.getElementById("input").value
    };

    document.getElementById("error-msg").innerText = "";

    fetch("/translate",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body: JSON.stringify(data)
    })
    .then(res=>res.json())
    .then(data=>{
        if(data.status==="success"){
            document.getElementById("output").value = data.translation;
        } else {
            document.getElementById("error-msg").innerText = data.message;
            document.getElementById("output").value = "";
        }
    })
    .catch(err=>{
        document.getElementById("error-msg").innerText = "Server error. Try again.";
    });
}

function logout(){
    fetch("/logout",{method:"POST"}).then(res=>res.json()).then(data=>{
        alert(data.message);
        window.location.href="/login_page";
    });
}

function toggleTheme(){
    if(document.body.style.background=="#0b0c10"){
        document.body.style.background="#f5f5f5"; document.body.style.color="#0b0c10";
    } else {
        document.body.style.background="#0b0c10"; document.body.style.color="white";
    }
}
</script>
</body>
</html>
